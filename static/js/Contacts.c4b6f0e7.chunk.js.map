{"version":3,"file":"static/js/Contacts.c4b6f0e7.chunk.js","mappings":"oLACA,MAAuB,uB,mECCVA,GAAcC,EAAAA,EAAAA,IAAU,CACnCC,YAAa,cACbC,WAAWC,EAAAA,EAAAA,IAAe,CACxBC,QAAS,gDAEXC,SAAU,CAAC,YACXC,UAAW,SAAAC,GAAO,MAAK,CACrBC,YAAaD,EAAQE,MAAM,CACzBA,MAAO,iBAAM,aACbC,aAAc,CAAC,cAEjBC,WAAYJ,EAAQK,SAAS,CAC3BH,MAAO,kBAAuB,CAC5BI,IAAK,YACLC,OAAQ,OACRC,KAAM,CAAEC,KAHH,EAAGA,KAGMC,OAHT,EAASA,UAKhBC,gBAAiB,CAAC,cAEpBC,cAAeZ,EAAQK,SAAS,CAC9BH,MAAO,SAAAW,GAAS,MAAK,CACnBP,IAAI,aAAD,OAAeO,GAClBN,OAAQ,WAEVI,gBAAiB,CAAC,kBAMtBG,EAGEtB,EAHFsB,oBACAC,EAEEvB,EAFFuB,sBACAC,EACExB,EADFwB,yBCjCF,EAAwB,2BAAxB,EAA4D,4B,UCG7C,SAASC,IACtB,OAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOT,EAAP,KAAaU,EAAb,KACA,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOR,EAAP,KAAeU,EAAf,KACcC,EAAaP,IAAnBQ,KACR,EAA2CP,IAA3C,eAAOX,EAAP,YAAqBmB,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,MAE1BC,EAAY,mCAAG,WAAMC,GAAN,oEACnBA,EAAEC,kBAEcN,EAASO,MAAK,SAAAC,GAAI,OAAIA,EAAKpB,KAAKqB,gBAAkBrB,EAAKqB,iBAHpD,uBAKfC,MAAM,GAAD,OAAItB,EAAJ,6BALU,mDASXL,EAAW,CAAEK,KAAAA,EAAMC,OAAAA,IATR,OAUjBS,EAAQ,IACRC,EAAU,IAXO,kDAajBY,QAAQC,IAAIT,GAbK,0DAAH,sDAiBlB,OACE,kBAAMU,SAAUT,EAAhB,WACE,mBAAOU,UAAWC,EAAlB,kBAEE,kBACEC,SAAU,SAAAX,GAAC,OAAIP,EAAQO,EAAEY,OAAOC,QAChCC,KAAK,OACL/B,KAAK,OACL8B,MAAO9B,EACPgC,QAAQ,yHACRC,MAAM,yIACNC,UAAQ,QAGZ,mBAAOR,UAAWC,EAAlB,oBAEE,kBACEC,SAAU,SAAAX,GAAC,OAAIN,EAAUM,EAAEY,OAAOC,QAClCC,KAAK,MACL/B,KAAK,SACL8B,MAAO7B,EACP+B,QAAQ,yFACRC,MAAM,+FACNC,UAAQ,QAGZ,mBAAQR,UAAWC,EAAcI,KAAK,SAASI,SAAUrB,EAAzD,4B,iCCpDN,EAAuB,0BAAvB,EAAwD,0BAAxD,EAAwF,yBCGzE,SAASsB,EAAT,GAA4C,IAArBC,EAAoB,EAApBA,GAAIrC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,OAC9C,EAAuCM,IAAvC,eAAOJ,EAAP,KAAwBW,EAAxB,KAAwBA,UACxB,OACE,gBAAIY,UAAWC,EAAYU,GAAIA,EAA/B,UACGrC,EADH,KACWC,GACT,mBACEyB,UAAWC,EACXI,KAAK,SACLO,QAAS,kBAAOnC,EAAckC,IAC9BF,SAAUrB,EAJZ,uBCJS,SAASyB,IACrB,MAAsClC,IAAxBO,EAAd,EAAQC,KAAgBC,EAAxB,EAAwBA,UAClB0B,GAASC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,UAEpCG,EAAe,OAAG/B,QAAH,IAAGA,OAAH,EAAGA,EAAU4B,QAAO,SAAApB,GAAI,OAAIA,EAAKpB,KAAKqB,cAAcuB,SAASJ,EAAOnB,kBAEzF,OACG,eAAIK,UAAWC,EAAf,SACIb,GACK,sCAEL6B,EAAgBE,KAAI,gBAAER,EAAF,EAAEA,GAAIrC,EAAN,EAAMA,KAAMC,EAAZ,EAAYA,OAAZ,OAClB,SAACmC,EAAD,CAEGC,GAAIA,EACJrC,KAAMA,EACNC,OAAQA,GAHHoC,QDGpBD,EAAYU,SAAW,CACrBT,GAAIU,IAAAA,OAAAA,WACJ/C,KAAM+C,IAAAA,OAAAA,WACN9C,OAAQ8C,IAAAA,OAAAA,Y,cEvBV,EAAwB,sBCGT,SAASC,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXV,GAASC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,UAE1C,OACE,mBAAOd,UAAWC,EAAlB,kCAEE,kBACEI,KAAK,OACLD,MAAOU,EACPZ,SAAU,SAAAX,GAAC,OAAIgC,GAASE,EAAAA,EAAAA,IAAalC,EAAEY,OAAOC,cCTvC,SAASsB,IACtB,OACE,iBAAK1B,UAAWC,EAAhB,WACE,uCACA,SAACnB,EAAD,KACA,sCACA,SAACwC,EAAD,KACA,SAACT,EAAD","sources":["webpack://react-homework-template/./src/components/Contacts/Contacts.module.css?5e71","redux/contact/contactsApi.js","webpack://react-homework-template/./src/components/ContactForm/ContactForm.module.css?b5b2","components/ContactForm/ContactForm.jsx","webpack://react-homework-template/./src/components/ContactList/ContactList.module.css?1ce0","components/ContactList/ContactItem.jsx","components/ContactList/ContactList.jsx","webpack://react-homework-template/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","components/Contacts/Contacts.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"Contacts_main__KdbGM\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://6325cb284cd1a2834c44a048.mockapi.io',\n  }),\n  tagTypes: ['Contacts'],\n  endpoints: builder => ({\n    getContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: ['Contacts'],\n    }),\n    addContact: builder.mutation({\n      query: ({ name, number }) => ({\n        url: '/contacts',\n        method: 'POST',\n        body: { name, number },\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n    deleteContact: builder.mutation({\n      query: contactId => ({\n        url: `/contacts/${contactId}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['Contacts'],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactsApi;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"ContactForm_label__-cVXI\",\"addBtn\":\"ContactForm_addBtn__CACuJ\"};","import { useState } from 'react';\nimport { useAddContactMutation, useGetContactsQuery } from '../../redux/contact/contactsApi';\nimport style from '../ContactForm/ContactForm.module.css';\n\nexport default function ContactForm() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const { data: contacts } = useGetContactsQuery();\n  const [addContact, { isLoading, error }] = useAddContactMutation();\n\n  const onSubmitForm = async e => {\n    e.preventDefault();\n\n    const isAdded = contacts.find(item => item.name.toLowerCase() === name.toLowerCase());\n      if (isAdded) {\n        alert(`${name} is already in contacts `);\n        return;\n      }\n    try {\n      await addContact({ name, number });\n      setName('');\n      setNumber('');\n    } catch {\n      console.log(error);\n    }\n  };\n\n  return (\n    <form onSubmit={onSubmitForm}>\n      <label className={style.label}>\n        Name\n        <input\n          onChange={e => setName(e.target.value)}\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n        />\n      </label>\n      <label className={style.label}>\n        Number\n        <input\n          onChange={e => setNumber(e.target.value)}\n          type=\"tel\"\n          name=\"number\"\n          value={number}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n        />\n      </label>\n      <button className={style.addBtn} type=\"submit\" disabled={isLoading}>\n        Add contact\n      </button>\n    </form>\n  );\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"ContactList_list__csErn\",\"item\":\"ContactList_item__EZYHO\",\"btn\":\"ContactList_btn__6Piat\"};","import PropTypes from 'prop-types';\nimport style from '../ContactList/ContactList.module.css';\nimport { useDeleteContactMutation } from '../../redux/contact/contactsApi';\n\nexport default function ContactItem({ id, name, number }) {\n  const [deleteContact, { isLoading }] = useDeleteContactMutation();\n  return (\n    <li className={style.item} id={id}>\n      {name}: {number}\n      <button\n        className={style.btn}\n        type=\"button\"\n        onClick={() => (deleteContact(id))}\n        disabled={isLoading}\n      >\n        Delete\n      </button>\n    </li>\n  );\n}\n\nContactItem.propType = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n","import { useSelector } from 'react-redux';\nimport ContactItem from '../ContactList/ContactItem';\nimport style from '../ContactList/ContactList.module.css';\nimport { useGetContactsQuery } from '../../redux/contact/contactsApi';\n\nexport default function ContactList() {\n   const { data: contacts, isLoading } = useGetContactsQuery();\n   const filter = useSelector(state => state.filter);\n\n   const visibleContacts = contacts?.filter(item => item.name.toLowerCase().includes(filter.toLowerCase()));\n\n   return (\n      <ul className={style.list}>\n         {isLoading ? (\n               <p>Loading...</p>\n            ) : \n         (visibleContacts.map(({id, name, number }) => (\n            <ContactItem\n               key={id}\n               id={id}\n               name={name}\n               number={number}\n            />\n         )))}\n      </ul>\n)};","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__vEd1E\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { changeFilter } from '../../redux/contact/contactsSlice';\nimport style from '../Filter/Filter.module.css';\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n  const filter = useSelector(state => state.filter);\n\n  return (\n    <label className={style.label}>\n      Find contact by name\n      <input\n        type=\"text\"\n        value={filter}\n        onChange={e => dispatch(changeFilter(e.target.value))}\n      />\n    </label>\n  );\n}\n","import style from '../Contacts/Contacts.module.css';\nimport ContactForm from '../ContactForm/ContactForm';\nimport ContactList from '../ContactList/ContactList';\nimport Filter from '../Filter/Filter';\n\nexport default function App() {\n  return (\n    <div className={style.main}>\n      <h1>Phonebook</h1>\n      <ContactForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n}"],"names":["contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","url","method","body","name","number","invalidatesTags","deleteContact","contactId","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","ContactForm","useState","setName","setNumber","contacts","data","isLoading","error","onSubmitForm","e","preventDefault","find","item","toLowerCase","alert","console","log","onSubmit","className","style","onChange","target","value","type","pattern","title","required","disabled","ContactItem","id","onClick","ContactList","filter","useSelector","state","visibleContacts","includes","map","propType","PropTypes","Filter","dispatch","useDispatch","changeFilter","App"],"sourceRoot":""}